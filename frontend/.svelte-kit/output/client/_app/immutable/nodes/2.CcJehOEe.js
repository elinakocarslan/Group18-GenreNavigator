import{a as x,t as S}from"../chunks/disclose-version.BFHv33CP.js";import{i as I}from"../chunks/legacy.BT6A1tMW.js";import{h as A,J,L as K,K as B,M as F,p as H,t as k,e as P,k as v,j as n,N as _,s as i,g as f,r as c}from"../chunks/runtime.Bh6GFcG-.js";import{a as R,l as V,e as W,s as u}from"../chunks/render.DWMY3bxJ.js";import{o as Y,i as E}from"../chunks/index-client.DfNTHW60.js";function z(e){if(A){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var l=e.value;L(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var r=e.checked;L(e,"checked",null),e.checked=r}}};e.__on_r=t,J(t),R()}}function L(e,a,t,l){var r=e.__attributes??(e.__attributes={});A&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[K]=t),e.removeAttribute(a))}function Q(e,a,t=a){var l=B();V(e,"input",()=>{var r=T(e)?j(e.value):e.value;t(r),l&&r!==(r=a())&&(e.value=r??"")}),F(()=>{var r=a();if(A&&e.defaultValue!==e.value){t(T(e)?j(e.value):e.value);return}T(e)&&r===j(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function T(e){var a=e.type;return a==="number"||a==="range"}function j(e){return e===""?null:+e}var U=S("<p><strong>Definition:</strong> </p>"),X=S("<p><strong>Synonyms (hidden for now):</strong> </p>"),Z=S('<main class="svelte-6qjbxb"><h1>Contexto Game</h1> <p>Try to guess the target word!</p> <p> </p> <!> <!> <input type="text" placeholder="Enter your guess" class="svelte-6qjbxb"> <button class="svelte-6qjbxb">Submit Guess</button> <p> </p> <p> </p></main>');function oe(e,a){H(a,!1);let t=_(""),l=_(""),r=_([]),g=_(""),h=_(0),d=_("");Y(async()=>{try{const o=await fetch("/start_game");if(!o.ok)throw new Error(`Failed to fetch: ${o.status}`);const s=await o.json();v(t,s.target_word),v(l,s.definition),v(r,s.synonyms),v(d,`The target word is: ${n(t)}`)}catch(o){v(d,"Error fetching target word."),console.error("Error fetching game data:",o)}});async function O(){const s=await(await fetch("http://localhost:5000/guess",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guess:n(g),target_word:n(t)})})).json();v(h,s.similarity),v(d,n(h)>.5?"Good guess!":"Try again!")}I();var m=Z(),y=i(f(m),4),M=f(y);c(y);var $=i(y,2);E($,()=>n(l),o=>{var s=U(),w=i(f(s));c(s),k(()=>u(w,` ${n(l)??""}`)),x(o,s)});var G=i($,2);E(G,()=>n(r).length>0,o=>{var s=X(),w=i(f(s));c(s),k(()=>u(w,` ${n(r).length??""} synonyms available.`)),x(o,s)});var p=i(G,2);z(p);var N=i(p,2),b=i(N,2),C=f(b,!0);c(b);var q=i(b,2),D=f(q);c(q),c(m),k(()=>{u(M,`Hint: The target word has ${n(t).length??""} letters.`),u(C,n(d)),u(D,`Similarity Score: ${n(h)??""}`)}),Q(p,()=>n(g),o=>v(g,o)),W("click",N,O),x(e,m),P()}export{oe as component};
